<div class="container-fluid">
  <div class="row">
    <div *ngFor="let route of routes; index as ri" class="col-md-3 recipie">
      <div class="card bg-default">
        <div class="card-header text-left bg-primary  text-white skill-header " role="tab" [id]="'skill'+ri">
          <a class="collapsed text-right text-white" data-toggle="collapse" data-parent="#accordion" [href]="'#collapse'+ri" aria-expanded="false"
            [attr.aria-controls]="'collapse'+ri">
            <i class="fa fa-align-justify"></i>
            {{skillDisplayed[ri]}}
          </a>
        </div>
        <div [id]="'collapse'+ri" class="collapse show" role="tabpanel" aria-labelledby="'skill'+ri">
          <div class="card-block">
            <div *ngFor="let aRoute of route; index as i">
              <li *ngIf="aRoute.prev" class="row gousei">
                <h2 class="col-sm-1">{{i}}</h2>
                <div class="col-sm-3 sozai">
                  <img class="monster-img" [src]="'assets/' + getSymbol(aRoute.prev) + '.gif'" [alt]="'R' + aRoute.prev.rank + ': ' + aRoute.prev.name"
                    srcset="">
                  <div class="monster-label">{{aRoute.prev.name}}</div>
                </div>
                <div calss="col-sm-1">
                  <h2>
                    <i class="fa fa-plus"></i>
                  </h2>
                </div>
                <div class="col-sm-3">
                  <img class="monster-img" [src]="'assets/' + getSymbol(aRoute.merged) + '.gif'" [alt]="'R' + aRoute.merged.rank + ': ' + aRoute.merged.name"
                    srcset="">
                  <div class="monster-label">{{aRoute.merged.name}}</div>
                </div>
                <div calss="col-sm-1 bg-info">
                  <h2>
                    <i class="fa fa-arrow-right"></i>
                  </h2>
                </div>
                <div class="col-sm-3">
                  <img class="monster-img" [src]="'assets/' + getSymbol(aRoute.current) + '.gif'" [alt]="'R' + aRoute.current.rank + ': ' + aRoute.current.name"
                    srcset="">
                  <div class="monster-label">{{aRoute.current.name}}</div>
                </div>
              </li>
            </div>
            <p *ngIf="toRankMinRoutes[ri].length" class="bg-warning">ここからR{{toRankMinRoutes[ri][toRankMinRoutes[ri].length -1].current.rank}}の{{toRankMinRoutes[ri][toRankMinRoutes[ri].length
              -1].current.name}}まで変化させよっか
            </p>
            <div *ngFor="let aRoute of toRankMinRoutes[ri]; index as i">
              <div *ngIf="aRoute.prev" class="row gousei">
                <h2 class="col-sm-1">{{i}}</h2>
                <div class="col-sm-3 sozai">
                  <img class="monster-img" [src]="'assets/' + getSymbol(aRoute.prev) + '.gif'" [alt]="'R' + aRoute.prev.rank + ': ' + aRoute.prev.name"
                    srcset="">
                  <div class="monster-label">{{aRoute.prev.name}}</div>
                </div>
                <div calss="col-sm-1">
                  <h2>
                    <i class="fa fa-plus"></i>
                  </h2>
                </div>
                <div class="col-sm-3">
                  <img class="monster-img" [src]="'assets/' + getSymbol(aRoute.merged) + '.gif'" [alt]="'R' + aRoute.merged.rank + ': ' + aRoute.merged.name"
                    srcset="">
                  <div class="monster-label">{{aRoute.merged.name}}</div>
                </div>
                <div calss="col-sm-1 bg-info">
                  <h2>
                    <i class="fa fa-arrow-right"></i>
                  </h2>
                </div>
                <div class="col-sm-3">
                  <img class="monster-img" [src]="'assets/' + getSymbol(aRoute.current) + '.gif'" [alt]="'R' + aRoute.current.rank + ': ' + aRoute.current.name"
                    srcset="">
                  <div class="monster-label">{{aRoute.current.name}}</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>


  <!-- ここから最終着地カードまでの変化を書いていく -->
  <div *ngIf="skillDisplayed.length == 2" class="row">
    <div class="col-md-6 recipie">
      <div class="card bg-default">
        <div class="card-header text-left bg-primary  text-white skill-header " role="tab" id="skill12">
          <a class="collapsed text-right text-white" data-toggle="collapse" data-parent="#accordion" href="#collapse12" aria-expanded="false"
            aria-controls="collapse12">
            <i class="fa fa-align-justify"></i>
            {{skillDisplayed[0]}}/{{skillDisplayed[1]}}
          </a>
        </div>
        <div id="collapse12" class="collapse" role="tabpanel" aria-labelledby="skill12">
          <div class="card-block">
            <li class="row gousei">
              <h2 class="col-sm-1">1</h2>
              <div class="col-sm-3 sozai">
                <img class="monster-img" [src]="'assets/' + getSymbol(lastMile.rank4Pair[0]) + '.gif'" [alt]="'R' + lastMile.rank4Pair[0].rank + ': ' + lastMile.rank4Pair[0].name"
                  srcset="">
                <div class="monster-label">{{lastMile.rank4Pair[0].name}}</div>
              </div>
              <div calss="col-sm-1">
                <h2>
                  <i class="fa fa-plus"></i>
                </h2>
              </div>
              <div class="col-sm-3">
                <img class="monster-img" [src]="'assets/' + getSymbol(lastMile.rank4Pair[1]) + '.gif'" [alt]="'R' + lastMile.rank4Pair[1].rank + ': ' + lastMile.rank4Pair[1].name"
                  srcset="">
                <div class="monster-label">{{lastMile.rank4Pair[1].name}}</div>
              </div>
              <div calss="col-sm-1 bg-info">
                <h2>
                  <i class="fa fa-arrow-right"></i>
                </h2>
              </div>
              <div class="col-sm-3">
                <img class="monster-img" [src]="'assets/' + getSymbol(lastMile.rank5) + '.gif'" [alt]="'R' + lastMile.rank5.rank + ': ' + lastMile.rank5.name"
                  srcset="">
                <div class="monster-label">{{lastMile.rank5.name}}</div>
              </div>
            </li>
          </div>
          <div *ngIf="lastMile.goal.name !== lastMile.rank5.name">
            <p class="bg-warning">ここからR{{lastMile.goal.rank}}の{{lastMile.goal.name}}まで変化させよっか </p>
            <div class="row gousei">
              <h2 class="col-sm-1">1</h2>
              <div class="col-sm-3 sozai">
                <img class="monster-img" [src]="'assets/' + getSymbol(lastMile.rank5) + '.gif'" [alt]="'R' + lastMile.rank5.rank + ': ' + lastMile.rank5.name"
                  srcset="">
                <div class="monster-label">{{lastMile.rank5.name}}</div>
              </div>
              <div calss="col-sm-1">
                <h2>
                  <i class="fa fa-plus"></i>
                </h2>
              </div>
              <div class="col-sm-3">
                <img class="monster-img" [src]="'assets/' + getSymbol(lastMile.merged) + '.gif'" [alt]="'R' + lastMile.merged.rank + ': ' + lastMile.merged.name"
                  srcset="">
                <div class="monster-label">{{lastMile.merged.name}}</div>
              </div>
              <div calss="col-sm-1 bg-info">
                <h2>
                  <i class="fa fa-arrow-right"></i>
                </h2>
              </div>
              <div class="col-sm-3">
                <img class="monster-img" [src]="'assets/' + getSymbol(lastMile.goal) + '.gif'" [alt]="'R' + lastMile.goal.rank + ': ' + lastMile.goal.name"
                  srcset="">
                <div class="monster-label">{{lastMile.goal.name}}</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div *ngIf="skillDisplayed.length >= 3" class="row">
    <div class="col-md-6 recipie">
      <div class="card bg-default">
        <div class="card-header text-left bg-primary  text-white skill-header " role="tab" id="skill12">
          <a class="collapsed text-right text-white" data-toggle="collapse" data-parent="#accordion" href="#collapse12" aria-expanded="false"
            aria-controls="collapse12">
            <i class="fa fa-align-justify"></i>
            {{skillDisplayed[0]}}/{{skillDisplayed[1]}}
          </a>
        </div>
        <div id="collapse12" class="collapse" role="tabpanel" aria-labelledby="skill12">
          <div class="card-block">
            <li class="row gousei">
              <h2 class="col-sm-1">1</h2>
              <div class="col-sm-3 sozai">
                <img class="monster-img" [src]="'assets/' + getSymbol(last2MilesFirst.rank4Pair[0]) + '.gif'" [alt]="'R' + last2MilesFirst.rank4Pair[0].rank + ': ' + last2MilesFirst.rank4Pair[0].name"
                  srcset="">
                <div class="monster-label">{{last2MilesFirst.rank4Pair[0].name}}</div>
              </div>
              <div calss="col-sm-1">
                <h2>
                  <i class="fa fa-plus"></i>
                </h2>
              </div>
              <div class="col-sm-3">
                <img class="monster-img" [src]="'assets/' + getSymbol(last2MilesFirst.rank4Pair[1]) + '.gif'" [alt]="'R' + last2MilesFirst.rank4Pair[1].rank + ': ' + last2MilesFirst.rank4Pair[1].name"
                  srcset="">
                <div class="monster-label">{{last2MilesFirst.rank4Pair[1].name}}</div>
              </div>
              <div calss="col-sm-1 bg-info">
                <h2>
                  <i class="fa fa-arrow-right"></i>
                </h2>
              </div>
              <div class="col-sm-3">
                <img class="monster-img" [src]="'assets/' + getSymbol(last2MilesFirst.rank5) + '.gif'" [alt]="'R' + last2MilesFirst.rank5.rank + ': ' + last2MilesFirst.rank5.name"
                  srcset="">
                <div class="monster-label">{{last2MilesFirst.rank5.name}}</div>
              </div>
            </li>
          </div>
          <div *ngIf="last2MilesFirst.goal.name !== last2MilesFirst.rank5.name">
            <p class="bg-warning">ここからR{{last2MilesFirst.goal.rank}}の{{last2MilesFirst.goal.name}}まで変化させよっか </p>
            <div class="row gousei">
              <h2 class="col-sm-1">1</h2>
              <div class="col-sm-3 sozai">
                <img class="monster-img" [src]="'assets/' + getSymbol(last2MilesFirst.rank5) + '.gif'" [alt]="'R' + last2MilesFirst.rank5.rank + ': ' + last2MilesFirst.rank5.name"
                  srcset="">
                <div class="monster-label">{{last2MilesFirst.rank5.name}}</div>
              </div>
              <div calss="col-sm-1">
                <h2>
                  <i class="fa fa-plus"></i>
                </h2>
              </div>
              <div class="col-sm-3">
                <img class="monster-img" [src]="'assets/' + getSymbol(last2MilesFirst.merged) + '.gif'" [alt]="'R' + last2MilesFirst.merged.rank + ': ' + last2MilesFirst.merged.name"
                  srcset="">
                <div class="monster-label">{{last2MilesFirst.merged.name}}</div>
              </div>
              <div calss="col-sm-1 bg-info">
                <h2>
                  <i class="fa fa-arrow-right"></i>
                </h2>
              </div>
              <div class="col-sm-3">
                <img class="monster-img" [src]="'assets/' + getSymbol(last2MilesFirst.goal) + '.gif'" [alt]="'R' + last2MilesFirst.goal.rank + ': ' + last2MilesFirst.goal.name"
                  srcset="">
                <div class="monster-label">{{last2MilesFirst.goal.name}}</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div *ngIf="skillDisplayed.length == 4" class="col-md-6 recipie">
      <div class="card bg-default">
        <div class="card-header text-left bg-primary  text-white skill-header " role="tab" id="skill12">
          <a class="collapsed text-right text-white" data-toggle="collapse" data-parent="#accordion" href="#collapse34" aria-expanded="false"
            aria-controls="collapse34">
            <i class="fa fa-align-justify"></i>
            {{skillDisplayed[2]}}/{{skillDisplayed[3]}}
          </a>
        </div>
        <div id="collapse34" class="collapse" role="tabpanel" aria-labelledby="skill34">
          <div class="card-block">
            <li class="row gousei">
              <h2 class="col-sm-1">1</h2>
              <div class="col-sm-3 sozai">
                <img class="monster-img" [src]="'assets/' + getSymbol(last2MilesSecond.rank4Pair[0]) + '.gif'" [alt]="'R' + last2MilesSecond.rank4Pair[0].rank + ': ' + last2MilesSecond.rank4Pair[0].name"
                  srcset="">
                <div class="monster-label">{{last2MilesSecond.rank4Pair[0].name}}</div>
              </div>
              <div calss="col-sm-1">
                <h2>
                  <i class="fa fa-plus"></i>
                </h2>
              </div>
              <div class="col-sm-3">
                <img class="monster-img" [src]="'assets/' + getSymbol(last2MilesSecond.rank4Pair[1]) + '.gif'" [alt]="'R' + last2MilesSecond.rank4Pair[1].rank + ': ' + last2MilesSecond.rank4Pair[1].name"
                  srcset="">
                <div class="monster-label">{{last2MilesSecond.rank4Pair[1].name}}</div>
              </div>
              <div calss="col-sm-1 bg-info">
                <h2>
                  <i class="fa fa-arrow-right"></i>
                </h2>
              </div>
              <div class="col-sm-3">
                <img class="monster-img" [src]="'assets/' + getSymbol(last2MilesSecond.rank5) + '.gif'" [alt]="'R' + last2MilesSecond.rank5.rank + ': ' + last2MilesSecond.rank5.name"
                  srcset="">
                <div class="monster-label">{{last2MilesSecond.rank5.name}}</div>
              </div>
            </li>
          </div>
          <div *ngIf="last2MilesSecond.goal.name !== last2MilesSecond.rank5.name">
            <p class="bg-warning">ここからR{{last2MilesSecond.goal.rank}}の{{last2MilesSecond.goal.name}}まで変化させよっか </p>
            <div class="row gousei">
              <h2 class="col-sm-1">1</h2>
              <div class="col-sm-3 sozai">
                <img class="monster-img" [src]="'assets/' + getSymbol(last2MilesSecond.rank5) + '.gif'" [alt]="'R' + last2MilesSecond.rank5.rank + ': ' + last2MilesSecond.rank5.name"
                  srcset="">
                <div class="monster-label">{{last2MilesSecond.rank5.name}}</div>
              </div>
              <div calss="col-sm-1">
                <h2>
                  <i class="fa fa-plus"></i>
                </h2>
              </div>
              <div class="col-sm-3">
                <img class="monster-img" [src]="'assets/' + getSymbol(last2MilesSecond.merged) + '.gif'" [alt]="'R' + last2MilesSecond.merged.rank + ': ' + last2MilesSecond.merged.name"
                  srcset="">
                <div class="monster-label">{{last2MilesSecond.merged.name}}</div>
              </div>
              <div calss="col-sm-1 bg-info">
                <h2>
                  <i class="fa fa-arrow-right"></i>
                </h2>
              </div>
              <div class="col-sm-3">
                <img class="monster-img" [src]="'assets/' + getSymbol(last2MilesSecond.goal) + '.gif'" [alt]="'R' + last2MilesSecond.goal.rank + ': ' + last2MilesSecond.goal.name"
                  srcset="">
                <div class="monster-label">{{last2MilesSecond.goal.name}}</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div *ngIf="lastMile && skillDisplayed.length >= 3" class="row">
    <div class="col-md-12 recipie">
      <div class="card bg-default">
        <div class="card-header text-left bg-primary  text-white skill-header " role="tab" id="skill1234">
          <a class="collapsed text-right text-white" data-toggle="collapse" data-parent="#accordion" href="#collapse1234" aria-expanded="false"
            aria-controls="collapse1234">
            <i class="fa fa-align-justify"></i>
            <span *ngFor="let skill of skillDisplayed">{{skill}}/</span>
          </a>
        </div>
        <div id="collapse1234" class="collapse" role="tabpanel" aria-labelledby="skill1234">
          <div class="card-block">
            <li class="row gousei">
              <h2 class="col-sm-1">1</h2>
              <div class="col-sm-3 sozai">
                <img class="monster-img" [src]="'assets/' + getSymbol(lastMile.rank4Pair[0]) + '.gif'" [alt]="'R' + lastMile.rank4Pair[0].rank + ': ' + lastMile.rank4Pair[0].name"
                  srcset="">
                <div class="monster-label">{{lastMile.rank4Pair[0].name}}</div>
              </div>
              <div calss="col-sm-1">
                <h2>
                  <i class="fa fa-plus"></i>
                </h2>
              </div>
              <div class="col-sm-3">
                <img class="monster-img" [src]="'assets/' + getSymbol(lastMile.rank4Pair[1]) + '.gif'" [alt]="'R' + lastMile.rank4Pair[1].rank + ': ' + lastMile.rank4Pair[1].name"
                  srcset="">
                <div class="monster-label">{{lastMile.rank4Pair[1].name}}</div>
              </div>
              <div calss="col-sm-1 bg-info">
                <h2>
                  <i class="fa fa-arrow-right"></i>
                </h2>
              </div>
              <div class="col-sm-3">
                <img class="monster-img" [src]="'assets/' + getSymbol(lastMile.rank5) + '.gif'" [alt]="'R' + lastMile.rank5.rank + ': ' + lastMile.rank5.name"
                  srcset="">
                <div class="monster-label">{{lastMile.rank5.name}}</div>
              </div>
            </li>
          </div>
          <div *ngIf="lastMile.goal.name !== lastMile.rank5.name">
            <p class="bg-warning">ここからR{{lastMile.goal.rank}}の{{lastMile.goal.name}}まで変化させよっか </p>
            <div class="row gousei">
              <h2 class="col-sm-1">1</h2>
              <div class="col-sm-3 sozai">
                <img class="monster-img" [src]="'assets/' + getSymbol(lastMile.rank5) + '.gif'" [alt]="'R' + lastMile.rank5.rank + ': ' + lastMile.rank5.name"
                  srcset="">
                <div class="monster-label">{{lastMile.rank5.name}}</div>
              </div>
              <div calss="col-sm-1">
                <h2>
                  <i class="fa fa-plus"></i>
                </h2>
              </div>
              <div class="col-sm-3">
                <img class="monster-img" [src]="'assets/' + getSymbol(lastMile.merged) + '.gif'" [alt]="'R' + lastMile.merged.rank + ': ' + lastMile.merged.name"
                  srcset="">
                <div class="monster-label">{{lastMile.merged.name}}</div>
              </div>
              <div calss="col-sm-1 bg-info">
                <h2>
                  <i class="fa fa-arrow-right"></i>
                </h2>
              </div>
              <div class="col-sm-3">
                <img class="monster-img" [src]="'assets/' + getSymbol(lastMile.goal) + '.gif'" [alt]="'R' + lastMile.goal.rank + ': ' + lastMile.goal.name"
                  srcset="">
                <div class="monster-label">{{lastMile.goal.name}}</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>